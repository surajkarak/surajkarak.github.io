<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>A/B Testing for marketing campaign selection | Suraj Karakulath</title> <meta name="author" content="Suraj Karakulath"> <meta name="description" content="Using t-test to determine the best of 3 marketing campaigns"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://surajkarak.github.io/projects/AB-test-Marketing-Campaign/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-HCHG0834FS"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HCHG0834FS");</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Suraj Karakulath</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="nav-item "> <a class="nav-link" href="/contact/">Contact</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">A/B Testing for marketing campaign selection</h1> <p class="post-description">Using t-test to determine the best of 3 marketing campaigns</p> </header> <article> <p>A/B testing is one of the most common practices followed in data-driven organisations. It can be used to tweak product features, optimise ad campaigns, improve checkout experiences in e-commerce stores and in many other use cases. In fact, it is seen as a go-to, tried-and-tested approach based on trust and evidence for determining whether to proceed with a major businsess decision or not. It is also a data science task that brings together domain knowledge, expertise in statistics and experimentation and communication skills. In this project, I explore the marketing campaign data from a company that is launching a new product and use A/B testing to determine which among 3 variants of a campaign yields the best results.</p> <h2 id="data-set">Data set</h2> <p>The data used here is from 3 marketing campaigns that were tested for 4 weeks at different stores and in different markets, with the weekly sales generated recorded. The goal was to figure out which campaign delivered the best result on sales and therefore can be continued.</p> <p>The data collected included:</p> <ul> <li>MarketID: The ID of the market/store</li> <li>MarketSize: A categorisation of how big the market size was - small, medium or large</li> <li>LocationID: Another ID to note the location of the store</li> <li>AgeOfStore: How long the store has been in operation</li> <li>Promotion: The campaign that was tested at the store (1 to 3)</li> <li>week: The week of the test (1 to 4)</li> <li>SalesInThousands: Sales generated in thousands for that specific market, location, week and using that promotion.</li> </ul> <p>There are 548 observations and 7 variables in the dataset, with no null values. Not every observation has a unique value, as shown below:</p> <p>No. of unique values for MarketID: 10 No. of unique values for MarketSize: 3 No. of unique values for LocationID: 137 No. of unique values for AgeOfStore: 25 No. of unique values for Promotion: 3 No. of unique values for week: 4 No. of unique values for SalesInThousands: 517</p> <p>This shows that the campaigns were shown to 137 stores in 10 markets, of varying sizes.</p> <h2 id="data-exploration">Data exploration</h2> <p>Before doing the A/B testing, the data needs to be explored to ensure that the 3 campaigns are somewhat equally distributed across the other key attributes. This is so that we can be certain that the results, i.e, sales generated are primarily due to the campaigns and not due to an asymmetry in the other attributes.</p> <p>Exploring how the sales generated is distributed across the 3 campaigns, it can be seen that all 3 campaigns contribute to the sales roughly equally although Promotion group 3 results in largest sales amount.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/AB-test/salesbycampaign-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/AB-test/salesbycampaign-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/AB-test/salesbycampaign-1400.webp"></source> <img src="/assets/img/AB-test/salesbycampaign.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Sales by campaign" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>Similarly, exploring the market sizes reveals that all 3 campaigns were exposed to stores with different market sizes, with the Medium sized markets leading followed by Large sized and then Small sized.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/AB-test/marketsbycampaigns-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/AB-test/marketsbycampaigns-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/AB-test/marketsbycampaigns-1400.webp"></source> <img src="/assets/img/AB-test/marketsbycampaigns.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Market sizes by campaign" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>Next, looking at the age of the stores, we see that most of them are less than 10 years old, with a significant number of them being 1 year old.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/AB-test/storeagedistribution-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/AB-test/storeagedistribution-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/AB-test/storeagedistribution-1400.webp"></source> <img src="/assets/img/AB-test/storeagedistribution.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Market sizes by campaign" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>Breaking this down into individual campaigns:</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/AB-test/store-distribution-boxplot-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/AB-test/store-distribution-boxplot-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/AB-test/store-distribution-boxplot-1400.webp"></source> <img src="/assets/img/AB-test/store-distribution-boxplot.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Market sizes by campaign" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>We see that all 3 campaigns were exposed to a similar age profiles - with the average age of store being 8 to 9 years old.</p> <p>Now that we can check that the 3 campaigns are somewhat similar, it makes sense to proceed with the statistics of A/B testing.</p> <h2 id="t-test-to-check-for-statistical-significance">T-test to check for statistical significance</h2> <p>Next up is testing for statistically significant difference between the campaigns. What we’re looking for is a statistically significant difference in the sales generated between each of the campaigns. For this, we average the sales per campaign and use a t-test.</p> <p>The t-test produces 2 important statistics - the t-value and the p-value.</p> <ul> <li>t-value measures how different the results are in relation to the variation in the data. A higher t-value means that there is more difference between the testing groups.</li> <li>p-value is the standard concept from statistics which, simply put, measures the probability of getting the observed results, or a more extreme difference between the groups, given the null hypothesis (i.e. that there is no difference between the groups). That means that the lower this p-value, the more confident we can be that the observed difference did not result by chance and that there is indeed a difference between the two campaigns.</li> </ul> <p>The t-test can be done either manually, or using the ttest_ind function from the scipy.stats packge.</p> <p>To calculate manually, we need the averages of the sales for each campaign, their standard deviation and number of observations.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">promo_1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="sh">'</span><span class="s">Promotion</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="sh">'</span><span class="s">SalesInThousands</span><span class="sh">'</span><span class="p">]</span>
<span class="n">promo_2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="sh">'</span><span class="s">Promotion</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="sh">'</span><span class="s">SalesInThousands</span><span class="sh">'</span><span class="p">]</span>
<span class="n">promo_3</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="sh">'</span><span class="s">Promotion</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">][</span><span class="sh">'</span><span class="s">SalesInThousands</span><span class="sh">'</span><span class="p">]</span>

<span class="n">mean_1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">promo_1</span><span class="p">)</span>
<span class="n">mean_2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">promo_2</span><span class="p">)</span>
<span class="n">mean_3</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">promo_3</span><span class="p">)</span>

<span class="n">std_1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">promo_1</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># ddof=1 for sample standard deviation
</span><span class="n">std_2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">promo_2</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">std_3</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">promo_3</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">n_1</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">promo_1</span><span class="p">)</span>
<span class="n">n_2</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">promo_2</span><span class="p">)</span>
<span class="n">n_3</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">promo_3</span><span class="p">)</span>

<span class="n">t_value</span> <span class="o">=</span> <span class="p">(</span><span class="n">mean_1</span> <span class="o">-</span> <span class="n">mean_2</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">std_1</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">n_1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">std_2</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">n_2</span><span class="p">))</span>
<span class="n">df_1_2</span> <span class="o">=</span> <span class="n">n_1</span> <span class="o">+</span> <span class="n">n_2</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">p_value</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">stats</span><span class="p">.</span><span class="n">t</span><span class="p">.</span><span class="nf">cdf</span><span class="p">(</span><span class="o">-</span><span class="nf">abs</span><span class="p">(</span><span class="n">t_value</span><span class="p">),</span> <span class="n">df</span><span class="o">=</span><span class="n">df_1_2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">t-value: </span><span class="si">{</span><span class="n">t_value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">p_value: </span><span class="si">{</span><span class="n">p_value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">t</span><span class="o">-</span><span class="n">value</span><span class="p">:</span> <span class="mf">6.42752867090748</span>
<span class="n">p_value</span><span class="p">:</span> <span class="mf">4.1432972177084283e-10</span>
</code></pre></div></div> <p>t-value of 6.4275 and p-value of 4.143e-10 (less than 0.05) suggest that the null hypothesis (no difference between the 2 campaigns) can be rejected and that the difference between campaigns is significant.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t_value</span> <span class="o">=</span> <span class="p">(</span><span class="n">mean_1</span> <span class="o">-</span> <span class="n">mean_3</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">std_1</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">n_1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">std_3</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">n_3</span><span class="p">))</span>
<span class="n">df_1_3</span> <span class="o">=</span> <span class="n">n_1</span> <span class="o">+</span> <span class="n">n_3</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">p_value</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">stats</span><span class="p">.</span><span class="n">t</span><span class="p">.</span><span class="nf">cdf</span><span class="p">(</span><span class="o">-</span><span class="nf">abs</span><span class="p">(</span><span class="n">t_value</span><span class="p">),</span> <span class="n">df</span><span class="o">=</span><span class="n">df_1_3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">t-value: </span><span class="si">{</span><span class="n">t_value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">p_value: </span><span class="si">{</span><span class="n">p_value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>


<span class="n">t</span><span class="o">-</span><span class="n">value</span><span class="p">:</span> <span class="mf">1.5560224307758632</span>
<span class="n">p_value</span><span class="p">:</span> <span class="mf">0.12058631176434825</span>
</code></pre></div></div> <p>t-value of 1.5560 and the p-value of 0.1205 (greater than 0.05) shows that there is no significant difference between campaigns 1 and 3.</p> <p>The same t-test can be done using the scipy.stats package.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># T-test between promo_1 and promo_2
</span><span class="n">t_test_1_2</span> <span class="o">=</span> <span class="n">stats</span><span class="p">.</span><span class="nf">ttest_ind</span><span class="p">(</span><span class="n">promo_1</span><span class="p">,</span> <span class="n">promo_2</span><span class="p">,</span> <span class="n">equal_var</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># Use equal_var=False if variances are assumed unequal
</span>
<span class="c1"># T-test between promo_1 and promo_3
</span><span class="n">t_test_1_3</span> <span class="o">=</span> <span class="n">stats</span><span class="p">.</span><span class="nf">ttest_ind</span><span class="p">(</span><span class="n">promo_1</span><span class="p">,</span> <span class="n">promo_3</span><span class="p">,</span> <span class="n">equal_var</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Printing the t-test results
</span><span class="nf">print</span><span class="p">(</span><span class="n">t_test_1_2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">t_test_1_3</span><span class="p">)</span>


<span class="nc">Ttest_indResult</span><span class="p">(</span><span class="n">statistic</span><span class="o">=</span><span class="mf">6.42752867090748</span><span class="p">,</span> <span class="n">pvalue</span><span class="o">=</span><span class="mf">4.2903687179871785e-10</span><span class="p">)</span>
<span class="nc">Ttest_indResult</span><span class="p">(</span><span class="n">statistic</span><span class="o">=</span><span class="mf">1.5560224307758634</span><span class="p">,</span> <span class="n">pvalue</span><span class="o">=</span><span class="mf">0.1205914774222948</span><span class="p">)</span>

</code></pre></div></div> <p>Using the t.test from the scipy.stats package we get the same results for the comparison between campaigns 1 and 2 and campaigns 1 and 3.</p> <p>Thus, campaigns 1 and 2 are better than 3 and either of those can be used for driving sales.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Suraj Karakulath. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>